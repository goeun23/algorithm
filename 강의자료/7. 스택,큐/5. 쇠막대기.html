<html>

<body>
    <script>
        /*
        ▣ 입력예제 1                                   
        
        ▣ 출력예제 1
         
        */
        
        
        function solution(str){
            // 내가 작성한 답
            /*
            - 📌 문제 이해: 
            인접한 쌍이 막대, 연속으로 열고 닫히면 하나의 레이저 
            연속한 () 는 하나의 레이저
            (() ())
             *   *
            -- -- --
            연속된 점(레이저)하나는 
            연속된 막대를 2개로 나눈다. 
            막대의 갯수? N*M-1(종이 자르기 문제와 동일하지않을까)
            2점은 3개로 나눈다. 
            -> 1개의 점은 2개로, 
            -> 2개의 점은 3조각으로 
            1개의 레이저-> 2 등분
            2개의 레이저-> 3 등분
            3개의 레이저-> 4 등분


            - 🔍 풀이 방식 파악: 
            음.. 스택이 몇쌍? 레이저가 몇개?


            - 🧠 풀이 패턴 기억: 
            
            */
            
            // -- 내가 작성한 답
            
            // 강의
            /*
            - 📌 문제 이해:
            문제분석,,, 노력해라 ~
            스택.. 
            괄호 -> 10중 8은 스택이다. 
            여는 괄호를 만난다 => stack에 push 
            여는괄호 = 막대기의 시작점이거나 레이저의 시작점
            닫는괄호를 만난다 => 막대기의 닫는 괄호인지, 레이저의 닫는 괄호인지 살펴본다. 
                ㄴ 바로 앞의 원소가 여는 괄호 : 레이저
                ㄴ      '' 가 아니면      : 막대기
                => 어쨌든 하나('(')를 뺴고, 
                stack의 size를 answer++ (레이저가 나왔다는건 막대가 잘렸다는거니까 남은 (의 갯수 : 잘린 막대의 갯수)
                닫는 괄호를 만나면 무조건 여는 괄호 하나를 pop해준다. 막대기라면 끝났다는거니까 pop 하고 +1
        
            - 🔍 풀이 방식 파악: 
            ( <-가 나오면 stack에 push 
            ) <-가 나오면 이게 레이저인지, 막대 끝인지 파악 
             일단 stack에서 pop()
              레이저: 바로 직전 원소가 여는괄호인 경우
              막대 : 바로 직전 원소가 여는괄호가 아닌 경우
            레이저라면 -> 스택의 size를 answer에 더해줌
            막대라면 -> 막대가 닫힌거니까 +1
            
            */
            
            // ** 내가 다시 풀기
            var stack = [], answer =0;
            for(let i =0; i< str.length; i++){
                if(str[i] == '('){
                    stack.push('(')
                }else{
                    // 우선 pop
                    stack.pop();
                    if(str[i-1] == '('){
                        // 레이저 
                        answer += stack.length;
                    }else{
                        // 그냥 막대기
                        answer += 1;
                    }
                }
            }
            return answer;
            /*
            [나의 코멘트]
            괄호문제가 나오면 10중 8은 스택문제다. 
            당연한 말이지만 괄호가 열고 닫힐때 조건을 보고 answer, count를 해주면 된다. 
            */
        }

        console.log(solution("()(((()())(())()))(())")
        )
    </script>
</body>

</html>