<html>

<body>
    <script>
        /*
        ▣ 입력예제 1                                   
        
        ▣ 출력예제 1
         
        */
        
        
        function solution(board, moves){
            // 내가 작성한 답
            /*
            - 📌 문제 이해: 
            
            - 🔍 풀이 방식 파악: 
            1. 2차원 배열로 들어온 원소를 라인별로 스택으로 만든다. 
            2. moves 배열의 인덱스에 해당하는 배열의 원소를 pop
            3. 이때 pop값이 0이라면 pass
                        0이 아니라면 answer push 체크
            4. [answer] push 로직 
            4-1. 제일 마지막 원소를 꺼내서 넣으려는 값과 일치한다면 pop(), count ++;
            4-2.                               일치하지않으면 push , answer 체크로직으로 이동

            - 🧠 풀이 패턴 기억: 
            1. 스택생성 
            2. 스택 pop 
            2-1. 값이 0인지? 
                2-1-1. 0이 아니라면 answer push 로직 
                2-1-2. 0이라면 그냥 패스
            3. answer push 로직 
                3-1. 마지막 원소 get 
                3-2. 마지막 원소와 넣으려는 원소가 같으면 count++, 마지막 원소를 pop();
                3-3.                        같지않으면 push
            */
            
            // -- 내가 작성한 답
            var n = board.length;
            var stack = []
            let answer = [], count = 0;
            
            for(let i =0; i< n; i++){
               stack.push(Array.from({length:0}, ()=> []));
            }
            for(let i =0; i< n; i++){
                for(let j=0; j<n; j++){
                    if(board[j][i] > 0){
                        stack[i].push(board[j][i])
                    }
                    
                }
                stack[i] = stack[i].reverse();
                console.log(stack[i])
            }

            for(let j =0; j< moves.length; j++){
                var target = moves[j]-1;    
                var toy =stack[target].pop(); 
                if(toy && toy !== undefined){
                    answerFunction(toy);
                }
            }
            
            function answerFunction(toy){
                const last = answer[answer.length-1]
                if(last){
                    if(toy !== last){
                        answer.push(toy)
                    }else{
                        answer.pop();   
                        count+=2;
                    }
                }else{
                    answer.push(toy)
                }
            }
            return count;
            // 강의
            /*
            - 📌 문제 이해: 
        
            - 🔍 풀이 방식 파악: 
            
            */
            
            // ** 내가 다시 풀기

            
            // 강의 
            // 내가 푼 것과 같다. 
        }

        console.log(solution(
            [[0,0,0,0,0],[0,0,1,0,3],[0,2,5,0,1],[4,2,4,4,2],[3,5,1,3,1]], 
            [1,5,3,5,1,2,1,4]
            )
        )
    </script>
</body>

</html>